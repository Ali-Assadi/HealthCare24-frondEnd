<body>
  <div class="container">
    <form class="sign-up-form" (ngSubmit)="signUp()" #form="ngForm" novalidate>
      <h2>Sign Up</h2>

      <!-- Email -->
      <label for="email">Email</label>
      <input
        type="email"
        id="email"
        name="email"
        [(ngModel)]="email"
        #emailInput="ngModel"
        required
        email
        placeholder="Enter your email"
      />
      <div class="error" *ngIf="emailInput.invalid && emailInput.touched">
        <span *ngIf="emailInput.errors?.['required']">Email is required.</span>
        <span *ngIf="emailInput.errors?.['email']">Invalid email format.</span>
      </div>

      <!-- Password -->
      <label for="password">Password</label>
      <input
        type="password"
        id="password"
        name="password"
        [(ngModel)]="password"
        #passwordInput="ngModel"
        required
        pattern=".{8,}"
        placeholder="At least 8 characters"
      />

      <div class="error" *ngIf="passwordInput.invalid && passwordInput.touched">
        <span *ngIf="passwordInput.errors?.['required']"
          >Password is required.</span
        >
        <span *ngIf="passwordInput.errors?.['pattern']"
          >Must be 8+ chars, include uppercase and number.</span
        >
      </div>

      <!-- Confirm Password -->
      <label for="confirmPassword">Confirm Password</label>
      <input
        type="password"
        id="confirmPassword"
        name="confirmPassword"
        [(ngModel)]="confirmPassword"
        #confirmPasswordInput="ngModel"
        required
      />
      <div class="error" *ngIf="confirmPasswordInput.touched">
        <span *ngIf="confirmPasswordInput.errors?.['required']"
          >Please confirm your password.</span
        >
        <span *ngIf="confirmPassword && confirmPassword !== password"
          >Passwords do not match.</span
        >
      </div>

      <!-- Age -->
      <label for="age">Age</label>
      <input
        type="number"
        id="age"
        name="age"
        [(ngModel)]="age"
        #ageInput="ngModel"
        required
        min="1"
      />
      <div class="error" *ngIf="ageInput.invalid && ageInput.touched">
        <span *ngIf="ageInput.errors?.['required']">Age is required.</span>
        <span *ngIf="ageInput.errors?.['min']">Please enter a valid age.</span>
      </div>

      <!-- Height -->
      <label for="height">Height (cm)</label>
      <input
        type="number"
        id="height"
        name="height"
        [(ngModel)]="height"
        #heightInput="ngModel"
        required
        min="30"
      />
      <div class="error" *ngIf="heightInput.invalid && heightInput.touched">
        <span *ngIf="heightInput.errors?.['required']"
          >Height is required.</span
        >
        <span *ngIf="heightInput.errors?.['min']"
          >Height must be at least 30cm.</span
        >
      </div>

      <!-- Weight -->
      <label for="weight">Weight (kg)</label>
      <input
        type="number"
        id="weight"
        name="weight"
        [(ngModel)]="weight"
        #weightInput="ngModel"
        required
        min="10"
      />
      <div class="error" *ngIf="weightInput.invalid && weightInput.touched">
        <span *ngIf="weightInput.errors?.['required']"
          >Weight is required.</span
        >
        <span *ngIf="weightInput.errors?.['min']"
          >Weight must be at least 10kg.</span
        >
      </div>

      <!-- Details -->
      <label for="details">Details</label>
      <textarea
        id="details"
        name="details"
        placeholder="Tell us more about yourself..."
        [(ngModel)]="details"
        #detailsInput="ngModel"
        rows="3"
        style="
          width: 100%;
          padding: 12px 15px;
          border: 1px solid #ccc;
          border-radius: 12px;
          margin-bottom: 20px;
          font-size: 14px;
        "
      ></textarea>
      <div class="error" *ngIf="detailsInput.invalid && detailsInput.touched">
        <span *ngIf="detailsInput.errors?.['required']"
          >Details are required.</span
        >
      </div>

      <!-- Submit -->
      <button type="submit">Sign Up</button>

      <!-- Link -->
      <p class="signin-link">
        Already have an account?
        <a routerLink="/sign-in">Sign in</a>
      </p>
    </form>
  </div>
</body>
