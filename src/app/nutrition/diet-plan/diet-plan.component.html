<div class="plan-container-nutrition text-center">
  <h2>🍽️ Personalized Diet Plan Generator</h2>

  <!-- 👤 User Info -->
  <div class="user-info mb-3" *ngIf="bmiValue">
    <p>
      <strong>BMI:</strong> {{ bmiValue }} | <strong>Recommended Goal:</strong>
      {{ userGoal | titlecase }}
    </p>
  </div>

  <!-- 🎯 Goal Selection -->
  <div class="select-goal mb-4">
    <label for="goal">Choose Your Goal:</label>
    <select id="goal" [(ngModel)]="userGoal" class="form-select mt-2" required>
      <option value="gain">Gain Muscle</option>
      <option value="balance">Balanced</option>
      <option value="loss">Lose Weight</option>
    </select>
  </div>

  <!-- 🚫 Restrictions -->
  <div class="restrictions-section mb-4">
    <p><strong>Any Restrictions?</strong> (Check all that apply)</p>
    <div class="restriction-checkboxes">
      <label
        *ngFor="let entry of restrictions | keyvalue"
        class="checkbox-label"
      >
        <input type="checkbox" [(ngModel)]="restrictions[entry.key]" />
        <span>No {{ entry.key | titlecase }}</span>
      </label>
    </div>
  </div>

  <!-- 🔘 Generate Button -->
  <button
    class="btn-generate-nutrition mt-2"
    (click)="generatePlan()"
    [disabled]="!userGoal || loading"
  >
    {{ loading ? "Generating..." : "Generate Plan 🚀" }}
  </button>

  <!-- ⏳ Loading -->
  <div *ngIf="loading" class="loading-message mt-3">
    <div class="spinner"></div>
    <p>Please wait... Preparing your personalized meal plan.</p>
  </div>
</div>
