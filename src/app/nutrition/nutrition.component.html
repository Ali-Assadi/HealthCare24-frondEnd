<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food & Nutrition</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="head" id="header">
        <img class="head-img" src="assets/nutrition/head-bg.png" alt="Food & Nutrition Header">
        <div class="head-text">
            <h1 class="head-text-h1">Food & Nutrition</h1>
        </div>
    </div>
    <section *ngIf="isLoggedIn" class="plan-actions-section my-5">
        <div class="container text-center">
            <h2 class="mb-4 fw-bold">ðŸ“‹ Your Personal Diet Journey</h2>
            <p class="text-muted">Stay on track and take control of your health goals</p>

            <div class="action-buttons mt-4 d-flex flex-wrap justify-content-center gap-3">
                <button class="btn btn-generate-plan" *ngIf="!hasPlan" routerLink="/diet-plan">
                    Generate My Diet Plan ðŸ’ª
                </button>

                <button class="btn btn-request-plan" *ngIf="hasPlan" (click)="requestNewPlan()">
                    Request New Plan from Admin ðŸ“¨
                </button>

                <button class="btn btn-view-plan" *ngIf="hasPlan" routerLink="/my-dietPlan">
                    View My Diet Plan ðŸ“‹
                </button>
            </div>
        </div>
    </section>

    <section class="product-section fade-in" #fadeElement appFadeIn>
        <div class="text-container">
            <h3>Nutrition Products</h3>
            <div class="underline"></div>
            <div class="product-grid">
                <div class="product-card fade-in" *ngFor="let product of nutritionProducts" #fadeElement appFadeIn>
                    <img [src]="product.image" [alt]="product.name" *ngIf="product.image">
                    <div *ngIf="!product.image" class="no-image">No Image Available</div>
                    <h4>{{ product.name }}</h4>
                    <p>{{ product.description }}</p>
                    <p><strong>${{ product.price }}</strong></p>
                    <button (click)="addToCart(product)">ðŸ›’ Add to Cart</button>
                    <button (click)="buyNow(product)">ðŸ’³ Buy Now</button>
                </div>
            </div>
        </div>
    </section>

    <section id="healthy-meals" class="healthy-meals">
        <div class="text-container">
            <h3>HEALTHY MEALS</h3>
            <div class="underline"></div>
        </div>
        <div class="article-grid">
            <div class="article-item fade-in" *ngFor="let meal of healthyMeals" routerLink="/healthy-meals" #fadeElement appFadeIn>
                <img [src]="meal.image" [alt]="meal.title" (click)="logView(meal.route, 'nutrition')"
                    *ngIf="meal.image">
                <div *ngIf="!meal.image" class="no-image">No Image Available</div>
                <h2>{{ meal.title }}</h2>
                <p>{{ meal.description }}</p>
            </div>
        </div>
    </section>

    <section id="diets" class="diets fade-in" #fadeElement appFadeIn>
        <div class="text-container">
            <h3>DIETS</h3>
            <div class="underline"></div>
            <h2>From keto to the Mediterranean diet, experts share insights into the latest diets.</h2>
        </div>
        <div class="diet-grid">
            <div class="diet-item fade-in" *ngFor="let diet of diets" [routerLink]="[diet.route]"
                (click)="logView(diet.route, 'nutrition')" #fadeElement appFadeIn>
                <img [src]="diet.image" [alt]="diet.title" *ngIf="diet.image" />
                <div *ngIf="!diet.image" class="no-image">No Image Available</div>
                <p><strong>{{ diet.title }}</strong></p>
            </div>
        </div>
    </section>

    <section id="healthy-recipes" class="healthy-recipes fade-in" #fadeElement appFadeIn>
        <div class="text-container">
            <h3>HEALTHY RECIPES</h3>
            <div class="underline"></div>
            <h2>Our test kitchen-created healthy recipes are sure to hit the spot.</h2>
        </div>
        <div class="recipe-grid">
            <div class="recipe-item fade-in" *ngFor="let recipe of healthyRecipes" [routerLink]="[recipe.route]"
                (click)="logView(recipe.route, 'nutrition')" #fadeElement appFadeIn>
                <img [src]="recipe.image" [alt]="recipe.title" *ngIf="recipe.image" />
                <div *ngIf="!recipe.image" class="no-image">No Image Available</div>
                <p><strong>{{ recipe.title }}</strong></p>
            </div>
        </div>
    </section>

    <app-footer></app-footer>
</body>

</html>