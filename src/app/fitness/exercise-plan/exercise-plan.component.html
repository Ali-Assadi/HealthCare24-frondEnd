<div class="plan-container text-center">
  <h2>🏋️ Personalized Exercise Plan</h2>

  <!-- 👤 BMI Info -->
  <div class="user-info mb-3" *ngIf="bmiValue">
    <p>
      <strong>BMI:</strong> {{ bmiValue }} | <strong>Recommended Goal:</strong>
      {{ userGoal | titlecase }}
    </p>
  </div>

  <!-- 🎯 Goal Selection -->
  <div class="select-goal mb-4">
    <label for="goal">Choose Your Goal:</label>
    <select id="goal" [(ngModel)]="userGoal" class="form-select mt-2" required>
      <option value="gain">Gain Muscle</option>
      <option value="balance">Balanced</option>
      <option value="loss">Lose Weight</option>
    </select>
  </div>

  <!-- 🚫 Restrictions -->
  <div class="restrictions-section mb-4">
    <p><strong>Any Exercise Restrictions?</strong> (Check all that apply)</p>
    <div class="restriction-checkboxes">
      <label *ngFor="let r of exerciseRestrictions" class="checkbox-label">
        <input
          type="checkbox"
          [checked]="isSelected(r)"
          (change)="toggleRestriction(r)"
        />
        <span>{{ r.replace("no", "No ") }}</span>
      </label>
    </div>
  </div>

  <!-- 🟢 Generate Button -->
  <button
    class="btn btn-success"
    (click)="generatePlan()"
    [disabled]="generating"
  >
    {{ generating ? "Generating..." : "Generate Plan" }}
  </button>

  <!-- ⏳ Loading Spinner -->
  <div *ngIf="generating" class="spinner-overlay mt-4">
    <div class="spinner"></div>
    <p class="mt-3 text-muted">Please wait, generating your fitness plan...</p>
  </div>
</div>
