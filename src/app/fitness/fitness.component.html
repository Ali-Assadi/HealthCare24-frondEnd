<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fitness & Strength</title>
  </head>

  <body>
    <!-- Header Section -->
    <div class="head" id="header">
      <img class="head-img" src="assets/fitness/HeaderPic.png" />
      <div class="head-text">
        <h1 class="head-text-h1">Fitness</h1>
      </div>
    </div>
    <div *ngIf="isLoggedIn" class="exercise-buttons">
      <h3>üéØ Your Fitness Plan Options</h3>

      <button
        *ngIf="!hasExercisePlan"
        class="btn btn-primary"
        routerLink="/exercise-plan"
      >
        Generate My Exercise Program üèãÔ∏è
      </button>

      <button
        *ngIf="hasExercisePlan"
        class="btn btn-outline-info"
        routerLink="/my-exercise-plan"
      >
        View My Exercise Plan üìã
      </button>

      <button
        *ngIf="hasExercisePlan"
        class="btn btn-outline-warning"
        (click)="requestChange()"
      >
        Request Plan Change üîÅ
      </button>
    </div>

    <!-- Strength Training Section -->
    <section
      id="strength-training"
      class="strength-training new-section-left fade-in"
      #fadeElement
      appFadeIn
    >
      <div class="text-container">
        <h3>STRENGTH TRAINING</h3>
        <div class="underline"></div>
        <div class="flex-center">
          <div class="strength-section">
            <article
              *ngFor="let item of strengthArticles"
              class="news-item fade-in"
              #fadeElement
              appFadeIn
              [routerLink]="[item.route]"
              (click)="logView(item.route, 'strength')"
              (click)="scrollToTop()"
            >
              <img [src]="item.image" [alt]="item.title" />
              <h3>{{ item.title }}</h3>
              <p>{{ item.description }}</p>
            </article>
          </div>
        </div>
      </div>
    </section>

    <!-- Cardio Section -->
    <section
      id="cardio"
      class="cardio new-section-left fade-in"
      #fadeElement
      appFadeIn
    >
      <div class="text-container">
        <h3>CARDIO FITNESS</h3>
        <div class="underline"></div>
        <div class="flex-center">
          <div class="news-section">
            <article
              *ngFor="let item of cardioArticles"
              class="news-item fade-in"
              #fadeElement
              appFadeIn
              [routerLink]="[item.route]"
              (click)="logView(item.route, 'cardio')"
              (click)="scrollToTop()"
            >
              <img [src]="item.image" [alt]="item.title" />
              <h3>{{ item.title }}</h3>
              <p>{{ item.description }}</p>
            </article>
          </div>
        </div>
      </div>
    </section>
    <!-- Fitness Products Section (only for logged-in users) -->
    <section
      *ngIf="isLoggedIn"
      class="product-section fade-in"
      #fadeElement
      appFadeIn
    >
      <div class="text-container">
        <h3>Fitness Gear & Supplements</h3>
        <div class="underline"></div>
        <div class="product-grid">
          <div
            class="product-card fade-in"
            *ngFor="let product of products"
            #fadeElement
            appFadeIn
            [ngClass]="{ 'sold-out': product?.soldOut }"
          >
            <img [src]="product.image" [alt]="product.name" />
            <h4>
              {{ product.name }}
              <span *ngIf="product?.soldOut" class="badge-unavail"
                >Out of stock</span
              >
            </h4>
            <p>{{ product.description }}</p>

            <p>
              <strong *ngIf="subscribed; else priceOnly">
                ${{ product.price }}
                <span class="original-price">${{ product.originalPrice }}</span>
              </strong>
              <ng-template #priceOnly>
                <strong>${{ product.price }}</strong>
              </ng-template>
            </p>

            <button
              (click)="addToCart(product)"
              [disabled]="product?.soldOut"
              [title]="product?.soldOut ? 'Out of stock' : 'Add to cart'"
            >
              üõí Add to Cart
            </button>
            <button
              (click)="buyNow(product)"
              [disabled]="product?.soldOut"
              [title]="product?.soldOut ? 'Out of stock' : 'Buy now'"
            >
              üí≥ Buy Now
            </button>
          </div>
        </div>
      </div>
    </section>
  </body>
  <app-footer></app-footer>
</html>
